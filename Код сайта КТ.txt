<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KantStore - Канцелярские товары</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: #3498db;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            font-size: 16px;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        nav a:hover, nav a.active {
            color: #3498db;
        }

        .cart-fav {
            display: flex;
            gap: 20px;
            font-size: 20px;
        }

        .cart-fav a {
            color: #555;
            position: relative;
            transition: color 0.3s;
        }

        .cart-fav a:hover {
            color: #3498db;
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main content */
        main {
            min-height: calc(100vh - 140px);
            padding: 30px 0;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Home page */
        .hero {
            background: linear-gradient(135deg, #3498db 0%, #8e44ad 100%);
            color: white;
            padding: 60px 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 25px;
            opacity: 0.9;
        }

        .btn {
            display: inline-block;
            background: white;
            color: #3498db;
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Фильтры */
        .filters-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .filters-section h2 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-size: 14px;
            color: #555;
        }

        .filter-select, .filter-input {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            min-width: 150px;
        }

        .filter-input {
            width: 120px;
        }

        .filter-range {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .apply-filters {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .apply-filters:hover {
            background: #2980b9;
        }

        .reset-filters {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .reset-filters:hover {
            background: #7f8c8d;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .product-img {
            height: 200px;
            background: #f1f8ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            color: #3498db;
            position: relative;
            cursor: pointer;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .product-desc {
            color: #777;
            font-size: 14px;
            margin-bottom: 15px;
        }

        /* Характеристики товара в карточке */
        .product-specs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .spec-item {
            background: #f1f8ff;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: #3498db;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
            color: #f39c12;
            font-size: 14px;
        }

        .product-reviews-count {
            color: #95a5a6;
            font-size: 13px;
            margin-left: 5px;
        }

        .product-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-price {
            font-size: 22px;
            font-weight: 700;
            color: #2c3e50;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .product-actions button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: #95a5a6;
            transition: color 0.3s;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-actions button:hover {
            color: #3498db;
            background: #f1f8ff;
        }

        .product-actions .fav.active {
            color: #e74c3c;
        }

        /* Модальное окно с деталями товара */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .product-modal {
            background: white;
            border-radius: 15px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: #555;
            cursor: pointer;
            z-index: 10;
        }

        .modal-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }

        @media (max-width: 768px) {
            .modal-content {
                grid-template-columns: 1fr;
            }
        }

        .modal-image {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            color: #3498db;
            background: #f1f8ff;
            border-radius: 10px;
            height: 300px;
        }

        .modal-details h2 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .modal-price {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .modal-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .stars {
            color: #f39c12;
        }

        .specs-table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }

        .specs-table td {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .specs-table td:first-child {
            color: #7f8c8d;
            width: 40%;
        }

        /* Секция отзывов */
        .reviews-section {
            margin-top: 40px;
        }

        .reviews-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .add-review-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .add-review-btn:hover {
            background: #27ae60;
        }

        .reviews-list {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .review-item {
            padding: 20px 0;
            border-bottom: 1px solid #eee;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .review-author {
            font-weight: 600;
            color: #2c3e50;
        }

        .review-date {
            color: #95a5a6;
            font-size: 14px;
        }

        .review-rating {
            color: #f39c12;
            margin: 5px 0;
        }

        .review-text {
            color: #555;
            line-height: 1.5;
        }

        .review-form {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .submit-review {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .submit-review:hover {
            background: #2980b9;
        }

        /* Cart page */
        .cart-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .cart-item {
            display: flex;
            padding: 20px 0;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-img {
            width: 80px;
            height: 80px;
            background: #f1f8ff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            margin-right: 20px;
            font-size: 30px;
            color: #3498db;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #3498db;
            font-weight: 700;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity {
            min-width: 30px;
            text-align: center;
        }

        .remove-item {
            color: #e74c3c;
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
        }

        .cart-summary {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-price {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }

        .checkout-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .checkout-btn:hover {
            background: #27ae60;
        }

        .empty-cart, .empty-fav {
            text-align: center;
            padding: 60px 20px;
            color: #95a5a6;
        }

        .empty-cart i, .empty-fav i {
            font-size: 70px;
            margin-bottom: 20px;
            color: #ddd;
        }

        /* Profile page */
        .profile-container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            max-width: 600px;
            margin: 0 auto;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #8e44ad);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
        }

        .profile-info h2 {
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .profile-info p {
            color: #7f8c8d;
        }

        .profile-details {
            display: grid;
            gap: 20px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: #7f8c8d;
        }

        .detail-value {
            font-weight: 600;
            color: #2c3e50;
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 30px 0;
            margin-top: 60px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 30px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 18px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #3498db;
        }

        .copyright {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #95a5a6;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            nav ul {
                gap: 15px;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero {
                padding: 40px 20px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }

            .cart-item {
                flex-wrap: wrap;
            }

            .cart-item-actions {
                width: 100%;
                margin-top: 15px;
                justify-content: flex-end;
            }

            .profile-container {
                padding: 30px 20px;
            }

            .footer-content {
                flex-direction: column;
                gap: 30px;
            }

            .filters {
                flex-direction: column;
                align-items: flex-start;
            }

            .filter-group {
                width: 100%;
            }

            .filter-select, .filter-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Модальное окно с деталями товара -->
    <div class="modal-overlay" id="product-modal">
        <div class="product-modal">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-content" id="modal-content">
                <!-- Содержимое будет заполнено JavaScript -->
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" data-page="home">
                    <i class="fas fa-pencil-alt"></i>
                    <span>KantStore</span>
                </a>
                
                <nav>
                    <ul>
                        <li><a href="#" class="active" data-page="home"><i class="fas fa-home"></i> Главная</a></li>
                        <li><a href="#" data-page="cart"><i class="fas fa-shopping-cart"></i> Корзина</a></li>
                        <li><a href="#" data-page="favorites"><i class="fas fa-heart"></i> Избранное</a></li>
                        <li><a href="#" data-page="profile"><i class="fas fa-user"></i> Профиль</a></li>
                    </ul>
                </nav>
                
                <div class="cart-fav">
                    <a href="#" data-page="cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="badge cart-count">2</span>
                    </a>
                    <a href="#" data-page="favorites">
                        <i class="fas fa-heart"></i>
                        <span class="badge fav-count">3</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Home Page -->
        <section id="home" class="page active">
            <div class="hero">
                <h1>Канцелярия для творчества и работы</h1>
                <p>Широкий выбор качественных канцелярских товаров для офиса, школы и творчества. Доставка по всей стране.</p>
                <a href="#products" class="btn">Смотреть каталог</a>
            </div>
            
            <!-- Фильтры -->
            <div class="filters-section">
                <h2>Фильтры</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label>Сортировка</label>
                        <select class="filter-select" id="sort-select">
                            <option value="default">По умолчанию</option>
                            <option value="price_asc">По цене (сначала дешевые)</option>
                            <option value="price_desc">По цене (сначала дорогие)</option>
                            <option value="rating_desc">По популярности</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Цена, ₽</label>
                        <div class="filter-range">
                            <input type="number" class="filter-input" id="price-min" placeholder="от" min="0">
                            <span>-</span>
                            <input type="number" class="filter-input" id="price-max" placeholder="до" min="0">
                        </div>
                    </div>
                    
                    <button class="apply-filters" id="apply-filters">Применить</button>
                    <button class="reset-filters" id="reset-filters">Сбросить</button>
                </div>
            </div>
            
            <h2>Популярные товары</h2>
            <div class="products-grid" id="products">
                <!-- Products will be loaded by JavaScript -->
            </div>
        </section>

        <!-- Cart Page -->
        <section id="cart" class="page">
            <h1><i class="fas fa-shopping-cart"></i> Корзина</h1>
            <div class="cart-container">
                <div id="cart-items">
                    <!-- Cart items will be loaded by JavaScript -->
                </div>
                <div id="cart-empty" class="empty-cart">
                    <i class="fas fa-shopping-cart"></i>
                    <h2>Корзина пуста</h2>
                    <p>Добавьте товары из каталога</p>
                </div>
                <div class="cart-summary" id="cart-summary">
                    <!-- Summary will be loaded by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Favorites Page -->
        <section id="favorites" class="page">
            <h1><i class="fas fa-heart"></i> Избранное</h1>
            <div class="products-grid" id="favorites-list">
                <!-- Favorites will be loaded by JavaScript -->
            </div>
            <div id="favorites-empty" class="empty-fav">
                <i class="fas fa-heart"></i>
                <h2>В избранном пока ничего нет</h2>
                <p>Добавляйте товары, нажимая на сердечко</p>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile" class="page">
            <h1><i class="fas fa-user"></i> Профиль</h1>
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <h2>Александр Иванов</h2>
                        <p>Покупатель с мая 2023</p>
                    </div>
                </div>
                
                <div class="profile-details">
                    <div class="detail-row">
                        <span class="detail-label">Электронная почта</span>
                        <span class="detail-value">alex@example.com</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Телефон</span>
                        <span class="detail-value">+7 (900) 123-45-67</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Заказов</span>
                        <span class="detail-value">8</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Бонусные баллы</span>
                        <span class="detail-value">1250</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Дата регистрации</span>
                        <span class="detail-value">15.05.2023</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>KantStore</h3>
                    <p>Качественные канцелярские товары для работы, учебы и творчества.</p>
                </div>
                <div class="footer-section">
                    <h3>Категории</h3>
                    <ul class="footer-links">
                        <li><a href="#">Письменные принадлежности</a></li>
                        <li><a href="#">Бумажная продукция</a></li>
                        <li><a href="#">Офисные товары</a></li>
                        <li><a href="#">Товары для творчества</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Контакты</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> +7 (800) 123-45-67</li>
                        <li><i class="fas fa-envelope"></i> info@kantstore.ru</li>
                        <li><i class="fas fa-map-marker-alt"></i> Москва, ул. Канцелярская, 15</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 KantStore. Все права защищены.
            </div>
        </div>
    </footer>

    <script>
        // Расширенные данные товаров с характеристиками и отзывами
        const products = [
            {
                id: 1,
                name: "Ручка гелевая синяя",
                description: "Гелевая ручка с тонким пишущим узлом, подходит для письма и рисования.",
                price: 45,
                icon: "fas fa-pen",
                inCart: 1,
                isFavorite: true,
                rating: 4.5,
                reviewsCount: 24,
                specs: {
                    "Тип": "Гелевая ручка",
                    "Цвет чернил": "Синий",
                    "Толщина линии": "0.5 мм",
                    "Материал корпуса": "Пластик",
                    "Страна производства": "Япония"
                },
                reviews: [
                    {
                        id: 1,
                        author: "Мария Петрова",
                        date: "2023-10-15",
                        rating: 5,
                        text: "Отличная ручка! Пишет плавно, не мажет. Покупаю уже не первый раз."
                    },
                    {
                        id: 2,
                        author: "Иван Сидоров",
                        date: "2023-09-22",
                        rating: 4,
                        text: "Хорошая ручка за свои деньги. Единственный минус - быстро заканчивается."
                    }
                ]
            },
            {
                id: 2,
                name: "Ежедневник А5",
                description: "Ежедневник в твердой обложке, 120 листов, разметка по дням.",
                price: 890,
                icon: "fas fa-book",
                inCart: 1,
                isFavorite: true,
                rating: 4.8,
                reviewsCount: 18,
                specs: {
                    "Формат": "А5",
                    "Количество листов": "120",
                    "Тип бумаги": "Офсетная",
                    "Переплет": "Твердый",
                    "Разметка": "По дням"
                },
                reviews: [
                    {
                        id: 3,
                        author: "Анна Козлова",
                        date: "2023-11-05",
                        rating: 5,
                        text: "Прекрасный ежедневник! Качественная бумага, удобная разметка. Рекомендую!"
                    }
                ]
            },
            {
                id: 3,
                name: "Набор маркеров 12 цветов",
                description: "Набор тонких маркеров для скетчинга и письма.",
                price: 560,
                icon: "fas fa-paint-brush",
                inCart: 0,
                isFavorite: false,
                rating: 4.2,
                reviewsCount: 31,
                specs: {
                    "Количество": "12 штук",
                    "Тип наконечника": "Кисть",
                    "Водостойкость": "Да",
                    "Для поверхностей": "Бумага, картон",
                    "Срок годности": "24 месяца"
                },
                reviews: [
                    {
                        id: 4,
                        author: "Ольга Смирнова",
                        date: "2023-10-30",
                        rating: 4,
                        text: "Яркие цвета, не просвечивают на обратной стороне. Отличный набор для скетчей."
                    }
                ]
            },
            {
                id: 4,
                name: "Степлер металлический",
                description: "Степлер для скрепления до 20 листов, с запасом скоб.",
                price: 320,
                icon: "fas fa-stapler",
                inCart: 0,
                isFavorite: true,
                rating: 4.7,
                reviewsCount: 15,
                specs: {
                    "Материал": "Металл",
                    "Емкость скоб": "50 штук",
                    "Макс. толщина": "20 листов",
                    "Цвет": "Черный",
                    "Гарантия": "1 год"
                },
                reviews: [
                    {
                        id: 5,
                        author: "Дмитрий Волков",
                        date: "2023-11-10",
                        rating: 5,
                        text: "Надежный степлер, удобно лежит в руке. Скобы в комплекте - приятный бонус."
                    }
                ]
            },
            {
                id: 5,
                name: "Блокнот в точку",
                description: "Блокнот А5 в точку, 80 листов, мягкая обложка.",
                price: 190,
                icon: "fas fa-sticky-note",
                inCart: 0,
                isFavorite: false,
                rating: 4.0,
                reviewsCount: 22,
                specs: {
                    "Формат": "А5",
                    "Количество листов": "80",
                    "Разлиновка": "Точка",
                    "Плотность бумаги": "80 г/м²",
                    "Тип крепления": "Скрепка"
                },
                reviews: [
                    {
                        id: 6,
                        author: "Екатерина Новикова",
                        date: "2023-10-28",
                        rating: 4,
                        text: "Удобный блокнот для заметок. Бумага плотная, не просвечивает."
                    }
                ]
            },
            {
                id: 6,
                name: "Набор карандашей 24 цвета",
                description: "Набор профессиональных цветных карандашей в металлической коробке.",
                price: 1250,
                icon: "fas fa-pencil-alt",
                inCart: 0,
                isFavorite: false,
                rating: 4.9,
                reviewsCount: 42,
                specs: {
                    "Количество": "24 карандаша",
                    "Тип": "Акварельные",
                    "Корпус": "Металлическая коробка",
                    "Твердость": "Мягкие",
                    "Для техники": "Рисование, скетчинг"
                },
                reviews: [
                    {
                        id: 7,
                        author: "Алексей Попов",
                        date: "2023-11-12",
                        rating: 5,
                        text: "Лучшие карандаши, которые у меня были! Яркие, хорошо смешиваются. Профессиональное качество."
                    },
                    {
                        id: 8,
                        author: "Светлана Морозова",
                        date: "2023-11-08",
                        rating: 5,
                        text: "Прекрасный набор для художников. Коробка удобная, карандаши не ломаются."
                    }
                ]
            }
        ];

        // DOM elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('nav a');
        const cartCount = document.querySelector('.cart-count');
        const favCount = document.querySelector('.fav-count');
        const productsGrid = document.getElementById('products');
        const cartItems = document.getElementById('cart-items');
        const cartEmpty = document.getElementById('cart-empty');
        const cartSummary = document.getElementById('cart-summary');
        const favoritesList = document.getElementById('favorites-list');
        const favoritesEmpty = document.getElementById('favorites-empty');
        const productModal = document.getElementById('product-modal');
        const modalContent = document.getElementById('modal-content');
        const modalClose = document.getElementById('modal-close');
        
        // Элементы фильтров
        const sortSelect = document.getElementById('sort-select');
        const priceMin = document.getElementById('price-min');
        const priceMax = document.getElementById('price-max');
        const applyFilters = document.getElementById('apply-filters');
        const resetFilters = document.getElementById('reset-filters');

        // Текущие фильтры
        let currentFilters = {
            sort: 'default',
            priceMin: null,
            priceMax: null
        };

        // Initialize the app
        function init() {
            renderProducts();
            renderCart();
            renderFavorites();
            updateCounters();
            setupEventListeners();
        }

        // Функция для отрисовки звезд рейтинга
        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === Math.ceil(rating) && rating % 1 !== 0) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }

        // Render products on home page
        function renderProducts(filteredProducts = products) {
            productsGrid.innerHTML = '';
            
            filteredProducts.forEach(product => {
                // Создаем строку характеристик для карточки
                let specsHtml = '';
                const specs = Object.entries(product.specs);
                for (let i = 0; i < Math.min(2, specs.length); i++) {
                    specsHtml += `<span class="spec-item">${specs[i][0]}: ${specs[i][1]}</span>`;
                }
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-img" data-id="${product.id}">
                        <i class="${product.icon}"></i>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title" data-id="${product.id}">${product.name}</h3>
                        <p class="product-desc">${product.description}</p>
                        
                        <div class="product-rating">
                            ${renderStars(product.rating)}
                            <span class="product-reviews-count">(${product.reviewsCount})</span>
                        </div>
                        
                        <div class="product-specs">
                            ${specsHtml}
                        </div>
                        
                        <div class="product-bottom">
                            <div class="product-price">${product.price} ₽</div>
                            <div class="product-actions">
                                <button class="fav ${product.isFavorite ? 'active' : ''}" data-id="${product.id}">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="add-to-cart" data-id="${product.id}">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                productsGrid.appendChild(productCard);
            });
        }

        // Функция фильтрации товаров
        function filterProducts() {
            let filtered = [...products];
            
            // Фильтрация по цене
            if (currentFilters.priceMin !== null && currentFilters.priceMin !== '') {
                filtered = filtered.filter(p => p.price >= parseInt(currentFilters.priceMin));
            }
            if (currentFilters.priceMax !== null && currentFilters.priceMax !== '') {
                filtered = filtered.filter(p => p.price <= parseInt(currentFilters.priceMax));
            }
            
            // Сортировка
            switch(currentFilters.sort) {
                case 'price_asc':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price_desc':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'rating_desc':
                    filtered.sort((a, b) => b.rating - a.rating);
                    break;
                default:
                    // По умолчанию - без сортировки
                    break;
            }
            
            return filtered;
        }

        // Показать модальное окно с деталями товара
        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            // Создаем HTML для характеристик
            let specsHtml = '';
            for (const [key, value] of Object.entries(product.specs)) {
                specsHtml += `
                    <tr>
                        <td>${key}</td>
                        <td>${value}</td>
                    </tr>
                `;
            }
            
            // Создаем HTML для отзывов
            let reviewsHtml = '';
            product.reviews.forEach(review => {
                reviewsHtml += `
                    <div class="review-item">
                        <div class="review-header">
                            <span class="review-author">${review.author}</span>
                            <span class="review-date">${review.date}</span>
                        </div>
                        <div class="review-rating">
                            ${renderStars(review.rating)}
                        </div>
                        <p class="review-text">${review.text}</p>
                    </div>
                `;
            });
            
            modalContent.innerHTML = `
                <div class="modal-image">
                    <i class="${product.icon}"></i>
                </div>
                <div class="modal-details">
                    <h2>${product.name}</h2>
                    <div class="modal-rating">
                        ${renderStars(product.rating)}
                        <span>${product.rating}/5 (${product.reviewsCount} отзывов)</span>
                    </div>
                    <div class="modal-price">${product.price} ₽</div>
                    <p>${product.description}</p>
                    
                    <h3>Характеристики</h3>
                    <table class="specs-table">
                        ${specsHtml}
                    </table>
                    
                    <div class="reviews-section">
                        <div class="reviews-header">
                            <h3>Отзывы (${product.reviews.length})</h3>
                            <button class="add-review-btn" data-id="${product.id}">Добавить отзыв</button>
                        </div>
                        <div class="reviews-list">
                            ${reviewsHtml}
                        </div>
                        <div class="review-form" id="review-form-${product.id}" style="display: none;">
                            <h4>Оставить отзыв</h4>
                            <div class="form-group">
                                <label>Ваше имя</label>
                                <input type="text" class="form-input" id="review-name-${product.id}">
                            </div>
                            <div class="form-group">
                                <label>Оценка</label>
                                <select class="form-select" id="review-rating-${product.id}">
                                    <option value="5">5 - Отлично</option>
                                    <option value="4">4 - Хорошо</option>
                                    <option value="3">3 - Удовлетворительно</option>
                                    <option value="2">2 - Плохо</option>
                                    <option value="1">1 - Очень плохо</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Текст отзыва</label>
                                <textarea class="form-textarea" id="review-text-${product.id}"></textarea>
                            </div>
                            <button class="submit-review" data-id="${product.id}">Отправить отзыв</button>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; display: flex; gap: 15px;">
                        <button class="add-to-cart btn" data-id="${product.id}" style="padding: 10px 25px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-cart-plus"></i> Добавить в корзину
                        </button>
                        <button class="fav ${product.isFavorite ? 'active' : ''} btn" data-id="${product.id}" style="padding: 10px 25px; background: #f1f8ff; color: #555; border: none; border-radius: 8px; cursor: pointer;">
                            <i class="fas fa-heart"></i> ${product.isFavorite ? 'В избранном' : 'В избранное'}
                        </button>
                    </div>
                </div>
            `;
            
            productModal.classList.add('active');
        }

        // Render cart page
        function renderCart() {
            const cartProducts = products.filter(p => p.inCart > 0);
            
            if (cartProducts.length === 0) {
                cartItems.style.display = 'none';
                cartEmpty.style.display = 'block';
                cartSummary.style.display = 'none';
                return;
            }
            
            cartItems.style.display = 'block';
            cartEmpty.style.display = 'none';
            cartSummary.style.display = 'flex';
            
            // Render cart items
            cartItems.innerHTML = '';
            let totalPrice = 0;
            
            cartProducts.forEach(product => {
                const itemTotal = product.price * product.inCart;
                totalPrice += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-img">
                        <i class="${product.icon}"></i>
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${product.name}</div>
                        <div class="cart-item-price">${product.price} ₽ / шт</div>
                    </div>
                    <div class="cart-item-actions">
                        <div class="quantity-control">
                            <button class="quantity-btn minus" data-id="${product.id}">
                                <i class="fas fa-minus"></i>
                            </button>
                            <span class="quantity">${product.inCart}</span>
                            <button class="quantity-btn plus" data-id="${product.id}">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="item-total">${itemTotal} ₽</div>
                        <button class="remove-item" data-id="${product.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            // Render summary
            cartSummary.innerHTML = `
                <div>
                    <div class="total-price">Итого: ${totalPrice} ₽</div>
                    <p style="color: #7f8c8d; font-size: 14px; margin-top: 5px;">Доставка рассчитывается при оформлении</p>
                </div>
                <button class="checkout-btn">Оформить заказ</button>
            `;
        }

        // Render favorites page
        function renderFavorites() {
            const favProducts = products.filter(p => p.isFavorite);
            
            if (favProducts.length === 0) {
                favoritesList.style.display = 'none';
                favoritesEmpty.style.display = 'block';
                return;
            }
            
            favoritesList.style.display = 'grid';
            favoritesEmpty.style.display = 'none';
            
            // Render favorite products
            favoritesList.innerHTML = '';
            
            favProducts.forEach(product => {
                // Создаем строку характеристик для карточки
                let specsHtml = '';
                const specs = Object.entries(product.specs);
                for (let i = 0; i < Math.min(2, specs.length); i++) {
                    specsHtml += `<span class="spec-item">${specs[i][0]}: ${specs[i][1]}</span>`;
                }
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-img" data-id="${product.id}">
                        <i class="${product.icon}"></i>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title" data-id="${product.id}">${product.name}</h3>
                        <p class="product-desc">${product.description}</p>
                        
                        <div class="product-rating">
                            ${renderStars(product.rating)}
                            <span class="product-reviews-count">(${product.reviewsCount})</span>
                        </div>
                        
                        <div class="product-specs">
                            ${specsHtml}
                        </div>
                        
                        <div class="product-bottom">
                            <div class="product-price">${product.price} ₽</div>
                            <div class="product-actions">
                                <button class="fav active" data-id="${product.id}">
                                    <i class="fas fa-heart"></i>
                                </button>
                                <button class="add-to-cart" data-id="${product.id}">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                favoritesList.appendChild(productCard);
            });
        }

        // Update cart and favorites counters
        function updateCounters() {
            const cartTotal = products.reduce((sum, product) => sum + product.inCart, 0);
            const favTotal = products.filter(p => p.isFavorite).length;
            
            cartCount.textContent = cartTotal;
            favCount.textContent = favTotal;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                });
            });

            // Cart/fav icons in header
            document.querySelectorAll('.cart-fav a').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    document.querySelector(`nav a[data-page="${pageId}"]`).classList.add('active');
                });
            });

            // Logo link
            document.querySelector('.logo').addEventListener('click', (e) => {
                e.preventDefault();
                showPage('home');
                navLinks.forEach(l => l.classList.remove('active'));
                document.querySelector('nav a[data-page="home"]').classList.add('active');
            });

            // Модальное окно
            modalClose.addEventListener('click', () => {
                productModal.classList.remove('active');
            });

            // Закрытие модального окна по клику на оверлей
            productModal.addEventListener('click', (e) => {
                if (e.target === productModal) {
                    productModal.classList.remove('active');
                }
            });

            // Фильтры
            applyFilters.addEventListener('click', () => {
                currentFilters.sort = sortSelect.value;
                currentFilters.priceMin = priceMin.value;
                currentFilters.priceMax = priceMax.value;
                
                const filteredProducts = filterProducts();
                renderProducts(filteredProducts);
                showNotification('Фильтры применены');
            });

            resetFilters.addEventListener('click', () => {
                sortSelect.value = 'default';
                priceMin.value = '';
                priceMax.value = '';
                
                currentFilters.sort = 'default';
                currentFilters.priceMin = null;
                currentFilters.priceMax = null;
                
                renderProducts(products);
                showNotification('Фильтры сброшены');
            });

            // Product actions (event delegation)
            document.addEventListener('click', (e) => {
                // Клик по изображению товара или названию для открытия деталей
                if (e.target.closest('.product-img') || e.target.closest('.product-title')) {
                    const element = e.target.closest('.product-img') || e.target.closest('.product-title');
                    const productId = parseInt(element.getAttribute('data-id'));
                    showProductDetails(productId);
                }
                
                // Add to cart button
                if (e.target.closest('.add-to-cart')) {
                    const button = e.target.closest('.add-to-cart');
                    const productId = parseInt(button.getAttribute('data-id'));
                    addToCart(productId);
                }
                
                // Favorite button
                if (e.target.closest('.fav')) {
                    const button = e.target.closest('.fav');
                    const productId = parseInt(button.getAttribute('data-id'));
                    toggleFavorite(productId);
                    
                    // Закрываем модальное окно, если оно открыто
                    if (productModal.classList.contains('active')) {
                        // Обновляем информацию в модальном окне
                        setTimeout(() => {
                            showProductDetails(productId);
                        }, 100);
                    }
                }
                
                // Cart quantity controls
                if (e.target.closest('.minus')) {
                    const button = e.target.closest('.minus');
                    const productId = parseInt(button.getAttribute('data-id'));
                    updateCartQuantity(productId, -1);
                }
                
                if (e.target.closest('.plus')) {
                    const button = e.target.closest('.plus');
                    const productId = parseInt(button.getAttribute('data-id'));
                    updateCartQuantity(productId, 1);
                }
                
                // Remove from cart
                if (e.target.closest('.remove-item')) {
                    const button = e.target.closest('.remove-item');
                    const productId = parseInt(button.getAttribute('data-id'));
                    removeFromCart(productId);
                }
                
                // Checkout button
                if (e.target.closest('.checkout-btn')) {
                    alert('Заказ оформлен! Спасибо за покупку.');
                    // In a real app, you would redirect to checkout page
                }
                
                // Кнопка "Добавить отзыв" в модальном окне
                if (e.target.closest('.add-review-btn')) {
                    const button = e.target.closest('.add-review-btn');
                    const productId = parseInt(button.getAttribute('data-id'));
                    const form = document.getElementById(`review-form-${productId}`);
                    form.style.display = 'block';
                    button.style.display = 'none';
                }
                
                // Кнопка отправки отзыва
                if (e.target.closest('.submit-review')) {
                    const button = e.target.closest('.submit-review');
                    const productId = parseInt(button.getAttribute('data-id'));
                    submitReview(productId);
                }
            });
        }

        // Show specific page
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.inCart += 1;
                updateUI();
                showNotification(`${product.name} добавлен в корзину`);
            }
        }

        // Toggle favorite status
        function toggleFavorite(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.isFavorite = !product.isFavorite;
                updateUI();
                
                if (product.isFavorite) {
                    showNotification(`${product.name} добавлен в избранное`);
                } else {
                    showNotification(`${product.name} удален из избранного`);
                }
            }
        }

        // Update cart quantity
        function updateCartQuantity(productId, change) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.inCart += change;
                if (product.inCart < 0) product.inCart = 0;
                updateUI();
            }
        }

        // Remove product from cart
        function removeFromCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.inCart = 0;
                updateUI();
                showNotification(`${product.name} удален из корзины`);
            }
        }

        // Добавление отзыва
        function submitReview(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const nameInput = document.getElementById(`review-name-${productId}`);
            const ratingSelect = document.getElementById(`review-rating-${productId}`);
            const textInput = document.getElementById(`review-text-${productId}`);
            
            const name = nameInput.value.trim();
            const rating = parseInt(ratingSelect.value);
            const text = textInput.value.trim();
            
            if (!name || !text) {
                alert('Пожалуйста, заполните все поля');
                return;
            }
            
            // Добавляем новый отзыв
            const newReview = {
                id: product.reviews.length + 1,
                author: name,
                date: new Date().toISOString().split('T')[0],
                rating: rating,
                text: text
            };
            
            product.reviews.push(newReview);
            product.reviewsCount += 1;
            
            // Пересчитываем средний рейтинг
            const totalRating = product.reviews.reduce((sum, review) => sum + review.rating, 0);
            product.rating = totalRating / product.reviews.length;
            
            // Обновляем UI
            updateUI();
            
            // Если модальное окно открыто, обновляем его
            if (productModal.classList.contains('active')) {
                showProductDetails(productId);
            }
            
            showNotification('Отзыв добавлен!');
            
            // Очищаем форму
            nameInput.value = '';
            ratingSelect.value = '5';
            textInput.value = '';
        }

        // Update all UI elements
        function updateUI() {
            const filteredProducts = filterProducts();
            renderProducts(filteredProducts);
            renderCart();
            renderFavorites();
            updateCounters();
        }

        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #2ecc71;
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                transform: translateX(150%);
                transition: transform 0.3s ease-out;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>